# Control system

`Control` — подсистема входа и маршрутизации команд (пользовательских и системных).

## 1. Роль

1. Преобразует ввод устройств в команды движка.
2. Синхронизирует управление камерой, UI и объектами мира.
3. Передает команды в gameplay-подсистемы с учетом активного режима игры.

## 2. Минимальный контракт совместимости

1. Детерминированный mapping input -> command.
2. Стабильная обработка очереди команд в пределах кадра.
3. Корректный приоритет UI-фокуса над world-input.

## 3. Статус покрытия и что осталось до 100%

Закрыто:

- место control-слоя в архитектуре и базовый runtime-контур.

Осталось:

1. Полная карта input actions и режимов обработки.
2. Формат внутренних очередей команд и их сериализация.
3. Спецификация edge-case поведения (повтор клавиш, захват мыши, hotkey-конфликты).
4. Пошаговые parity-тесты на записанных последовательностях ввода.
